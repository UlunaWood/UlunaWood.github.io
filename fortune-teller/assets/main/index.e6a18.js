window.__require=function t(e,o,i){function n(r,c){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return n(e[r][1][t]||t)},p,p.exports,t,e,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({Button:[function(t,e,o){"use strict";cc._RF.push(e,"402d0ltbl1F/KzfhqpYPRHV","Button");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ClickableView"),r=cc._decorator,c=r.ccclass,a=(r.property,r.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isEnabled=!0,e.action=function(){},e}return i(e,t),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.startListen()},e.prototype.setEnable=function(t){this._isEnabled!=t&&(this._isEnabled=t,this.node.angle=0,this.node.scale=1,this._isEnabled?this.node.color=new cc.Color(16777215):this.node.color=new cc.Color(12171705))},e.prototype.startListen=function(){var e=this;t.prototype.startListen.call(this),this.node.on(cc.Node.EventType.TOUCH_START,function(){e._isEnabled&&(e.target.angle=5,e.target.scale=1.05)})},e.prototype.onClick=function(){t.prototype.onClick.call(this),this._isEnabled&&(this.target.angle=0,this.target.scale=1,this.action&&this.action())},e.prototype.stopListen=function(){t.prototype.stopListen.call(this),this.node.off(cc.Node.EventType.TOUCH_START)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.node&&this.stopListen()},e=n([c,a("ui/Button")],e)}(s.default);o.default=l,cc._RF.pop()},{"./ClickableView":"ClickableView"}],CalendarManager:[function(t,e,o){"use strict";cc._RF.push(e,"1b717/BGKJHu6cPilAigiVw","CalendarManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./CalendarNumbers"),r=cc._decorator,c=r.ccclass,a=r.property,l=r.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plate=null,e.back=null,e._cell=null,e._callback=function(t,e){},e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.back.active=!1,this.plate.active=!1,this._numbers=this.plate.getComponent(s.default),this._numbers.init(function(e){t.fillCell(e)})},e.prototype.hide=function(){this.reset()},e.prototype.showOnCell=function(t,e,o){this._callback=o,this.back.active=!1,this.plate.active=!1,this.back.active=!0,this.plate.active=!0,this._cell=t;var i=this.node.convertToNodeSpaceAR(e.getLocation());this.plate.x=i.x+this.back.width/2+20,this.plate.y=i.y-this.back.height/2-20,this.back.x=this.plate.x,this.back.y=this.plate.y,this.back.x>=325&&(this.plate.x=i.x-+this.back.width/2-20,this.back.x=this.plate.x)},e.prototype.fillCell=function(t){this._callback(this._cell,t),this.hide()},e.prototype.reset=function(){this._cell=null,this.back.active=!1,this.plate.active=!1,this.node.x=0,this.node.y=0},n([a(cc.Node)],e.prototype,"plate",void 0),n([a(cc.Node)],e.prototype,"back",void 0),e=n([c,l("CalendarManager")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CalendarNumbers":"CalendarNumbers"}],CalendarNumbers:[function(t,e,o){"use strict";cc._RF.push(e,"65fe346icBON78XhxM7De9t","CalendarNumbers");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ui/ClickableView"),r=cc._decorator,c=r.ccclass,a=(r.property,r.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._callback=function(t){},e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.init=function(t){this._callback=t},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this._callback(this.findNumber(this.node.convertToNodeSpaceAR(e.getLocation())))},e.prototype.findNumber=function(t){return t.y<=110&&t.y>=70?this.findByX(0,t.x,40):t.y<70&&t.y>=24?this.findByX(9,t.x,360/7):t.y<24&&t.y>=-22?this.findByX(16,t.x,360/7):t.y<-22&&t.y>=-68?this.findByX(23,t.x,360/7):t.y<-68&&t.y>=-108?this.findByX(30,t.x,360/7):-1},e.prototype.findByX=function(t,e,o){var i=Math.floor((e+180)/o)+1+t;return i>31&&(i=-1),i},e=n([c,a("CalendarNumbers")],e)}(s.default);o.default=l,cc._RF.pop()},{"./ui/ClickableView":"ClickableView"}],Cell:[function(t,e,o){"use strict";cc._RF.push(e,"7a985y0AJ9Ev7wcEP3RyQxR","Cell");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ui/ClickableView"),r=cc._decorator,c=r.ccclass,a=r.property,l=r.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numberLabel=null,e.choose=null,e.good=null,e.bad=null,e._number=0,e._isCoincided=!1,e.action=function(t,e){},e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.reset()},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.action&&this.action(this,e)},e.prototype.setNumber=function(t){t<=0?(this._number=0,this.numberLabel.string=""):(this._number=t,this.numberLabel.string=this._number.toString())},e.prototype.setCoincide=function(t){this._isCoincided=t},e.prototype.showChecking=function(){this.choose.stopAllActions(),this.choose.opacity=255,this.choose.active=!0,cc.tween(this.choose).delay(.08).to(.48,{opacity:0}).start()},e.prototype.showSelected=function(){this.choose.opacity=255,this.choose.active=!0},e.prototype.hideSelected=function(){this.choose.active=!1},e.prototype.showIntersection=function(t){cc.tween(this.numberLabel.node).delay(.15).to(.3,{scaleX:1.2,scaleY:1.2}).to(.3,{scaleX:1,scaleY:1}).start();var e=t?this.good:this.bad,o=t?255:100;e.stopAllActions(),e.active=!0,e.opacity=0,cc.tween(e).delay(.15).to(.2,{opacity:o}).to(.2,{opacity:o/2}).to(.2,{opacity:o}).start()},e.prototype.showUnfilled=function(){this.choose.stopAllActions(),this.choose.active=!0,this.choose.opacity=0,cc.tween(this.choose).to(.1,{opacity:155}).to(.2,{opacity:0}).to(.2,{opacity:155}).to(.2,{opacity:0}).start()},e.prototype.hideForResult=function(){this.node.opacity=150},e.prototype.hideWithIntersectionForResult=function(){this.numberLabel.node.opacity=0,this.good.active=this.bad.active=!1},e.prototype.reset=function(){this.good.stopAllActions(),this.choose.stopAllActions(),this.bad.stopAllActions(),this.numberLabel.node.stopAllActions(),this.numberLabel.node.opacity=255,this.node.opacity=255,this.choose.opacity=255,this.bad.opacity=100,this.choose.active=this.good.active=this.bad.active=!1,this._isCoincided=!1,this._number=0},e.prototype.onDestroy=function(){this.good&&this.good.stopAllActions(),this.bad&&this.bad.stopAllActions(),this.numberLabel&&this.numberLabel.node.stopAllActions()},n([a(cc.Label)],e.prototype,"numberLabel",void 0),n([a(cc.Node)],e.prototype,"choose",void 0),n([a(cc.Node)],e.prototype,"good",void 0),n([a(cc.Node)],e.prototype,"bad",void 0),e=n([c,l("Cell")],e)}(s.default);o.default=p,cc._RF.pop()},{"./ui/ClickableView":"ClickableView"}],ClickableView:[function(t,e,o){"use strict";cc._RF.push(e,"2baa1y9BkxM1amFBBk2Vq81","ClickableView");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,a=s.menu,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return i(e,t),e.prototype.onLoad=function(){this.startListen()},e.prototype.startListen=function(){var t=this;this.stopListen(),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.onClick(e)})},e.prototype.onClick=function(t){},e.prototype.stopListen=function(){this.node.off(cc.Node.EventType.TOUCH_END)},e.prototype.onDestroy=function(){this.node&&this.stopListen()},n([c(cc.Node)],e.prototype,"target",void 0),e=n([r,a("ui/Clickable")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],EraserButton:[function(t,e,o){"use strict";cc._RF.push(e,"216cbm+Du5IALggBL5XXZZL","EraserButton");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../ui/Button"),r=t("../GameModel"),c=t("../GameEvent"),a=cc._decorator,l=a.ccclass,p=(a.property,a.menu),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this.setEnable(!1),this.action=function(){e.model.erase(),e.node.dispatchEvent(new cc.Event(c.GameEvent.USE_ERASE,!0))}},e.prototype.init=function(t){this.model=t},e.prototype.update=function(t){if(this.model)switch(this.model.state){case r.GameState.LOCKED:case r.GameState.IDLE:this.isEnabled&&this.setEnable(!1);break;case r.GameState.FILLING:case r.GameState.READY:case r.GameState.CHECKING:case r.GameState.RESULT:this.isEnabled||this.setEnable(!0)}},e=n([l,p("buttons/EraserButton")],e)}(s.default);o.default=u,cc._RF.pop()},{"../GameEvent":"GameEvent","../GameModel":"GameModel","../ui/Button":"Button"}],FieldFilling:[function(t,e,o){"use strict";cc._RF.push(e,"bb8322dGllJZLnm05oDn1w5","FieldFilling");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./StickersManager"),r=t("./GameModel"),c=t("./GridManager"),a=cc._decorator,l=a.ccclass,p=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rules=null,e.linesPlate=null,e.lineTime=.05,e.days=null,e.months=null,e.stickersPlate=null,e.gridPlate=null,e._lines=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this._stickersManager||this.createStickersManager(),this._gridManager||this.createGridManager(),this._gridManager=this.gridPlate.getComponent(c.default),this.linesPlate.children.forEach(function(e){t._lines.push(e)}),this.days.active=this.months.active=!1,this.reset()},e.prototype.init=function(t){this._model=t,this._stickersManager||this.createStickersManager(),this._gridManager||this.createGridManager()},e.prototype.update=function(t){if(this.hasStateChanged){switch(this._model.state){case r.GameState.LOCKED:break;case r.GameState.IDLE:this.reset(),this.rules.active=!0;break;case r.GameState.FILLING:this._model.lastState==r.GameState.IDLE&&(this.reset(),this.showField(),this.rules.active=!1);break;case r.GameState.READY:case r.GameState.CHECKING:break;case r.GameState.RESULT:this.showResult()}this._state=this._model.state,this._lastState=this._model.lastState}},e.prototype.showResult=function(){},e.prototype.onErase=function(){this._gridManager.onErase()},e.prototype.onRnd=function(){this._gridManager.onRnd()},e.prototype.onPen=function(){this._gridManager.onPen()},Object.defineProperty(e.prototype,"hasStateChanged",{get:function(){return this._model&&(this._state!=this._model.state||this._lastState!=this._model.lastState)},enumerable:!0,configurable:!0}),e.prototype.showField=function(){var t=this,e=0;this._lines.forEach(function(o){e+=t.lineTime,cc.tween(o).delay(e).to(t.lineTime,{y:0}).start()}),this.days.active=this.months.active=!0,this.days.opacity=this.months.opacity=0,cc.tween(this.days).delay(e).to(.1,{opacity:255}).start(),cc.tween(this.months).delay(e).to(.1,{opacity:255}).start(),this._stickersManager.show()},e.prototype.reset=function(){this._lines.forEach(function(t){t.y=567,t.stopAllActions()}),this.linesPlate.opacity=this.days.opacity=this.months.opacity=255,this.days.active=this.months.active=!1,this._stickersManager.reset()},e.prototype.createStickersManager=function(){this._stickersManager=this.stickersPlate.getComponent(s.default)},e.prototype.createGridManager=function(){this._gridManager=this.gridPlate.getComponent(c.default),this._gridManager.init(this._model,this._stickersManager)},e.prototype.onDestroy=function(){this.node&&this.node.stopAllActions(),this.days&&this.days.stopAllActions(),this.months&&this.months.stopAllActions(),this._lines&&this._lines.forEach(function(t){t.stopAllActions()})},n([p(cc.Node)],e.prototype,"rules",void 0),n([p(cc.Node)],e.prototype,"linesPlate",void 0),n([p],e.prototype,"lineTime",void 0),n([p(cc.Node)],e.prototype,"days",void 0),n([p(cc.Node)],e.prototype,"months",void 0),n([p(cc.Node)],e.prototype,"stickersPlate",void 0),n([p(cc.Node)],e.prototype,"gridPlate",void 0),e=n([l,u("FieldFilling")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./GameModel":"GameModel","./GridManager":"GridManager","./StickersManager":"StickersManager"}],FieldModel:[function(t,e,o){"use strict";cc._RF.push(e,"11b01rRQ+1JCZviLr5IEDDr","FieldModel");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameModel"),s=cc._decorator,r=s.ccclass,c=(s.property,function(){function t(){this._isEmpty=!0,this._isFilled=!1,this._cells=[],this._cellsAmount=0,this.coincideTable=[],this.needToShowEmptyCells=!1,this._cellsAmount=n.default.ROWS*n.default.COLUMNS,this.clear()}return t.prototype.rndFillEmpties=function(){for(var t=0;t<this._cellsAmount;t++)0==this._cells[t]&&(this._cells[t]=Math.ceil(31*Math.random()));this._isFilled=!0,this._isEmpty=!1},t.prototype.rndRefillAll=function(){for(var t=0;t<this._cellsAmount;t++)this._cells[t]=Math.ceil(31*Math.random());this._isEmpty=!1,this._isFilled=!0},t.prototype.fillCell=function(t,e){if(t<0||t>=this._cellsAmount)throw new Error("set cell with incorrect index = "+t.toString());if(e<0||e>31)throw new Error("set cell with incorrect value = "+e.toString());this._cells[t]=e,this.updateState()},t.prototype.getEmpties=function(){for(var t=[],e=0;e<this._cellsAmount;e++)0==this._cells[e]&&t.push(e);return t},t.prototype.getCell=function(t){if(t<0||t>=this._cellsAmount)throw new Error("get cell with incorrect index = "+t.toString());return this._cells[t]},t.prototype.isCellEmpty=function(t){if(t<0||t>=this._cellsAmount)throw new Error("checking cell with incorrect index = "+t.toString());return this._cells[t]>0},t.prototype.clear=function(){for(var t=0;t<this._cellsAmount;t++)this._cells[t]=0;this._isFilled=!1,this._isEmpty=!0},t.prototype.findCrossing=function(){this.clearCoincideTable();for(var t=(new Date).getFullYear(),e=0;e<n.default.COLUMNS;e++)for(var o=0;o<n.default.ROWS;o++){var i=o*n.default.COLUMNS+e,s=this._cells[i],r=new Date(t,e,s),c=r.getDay();this.isDayCoincide(o,c)&&r.getMonth()==e&&r.getFullYear()==t&&(this.coincideTable[i]=!0)}},t.prototype.clearCoincideTable=function(){this.coincideTable=[];for(var t=0;t<n.default.COLUMNS;t++)for(var e=0;e<n.default.ROWS;e++)this.coincideTable.push(!1)},t.prototype.isDayCoincide=function(t,e){return e==t+1||0==e&&6==t},t.prototype.updateState=function(){this._isFilled=!0,this._isEmpty=!0;for(var t=0;t<this._cellsAmount;t++)0==this._cells[t]?this._isFilled=!1:this._isEmpty=!1},Object.defineProperty(t.prototype,"hasEmpties",{get:function(){return!this._isFilled&&!this._isEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._isEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFilled",{get:function(){return this._isFilled},enumerable:!0,configurable:!0}),t=i([r],t)}());o.default=c,cc._RF.pop()},{"./GameModel":"GameModel"}],GameEvent:[function(t,e,o){"use strict";cc._RF.push(e,"7a855d3pEVF27utcZNX96hM","GameEvent"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t.USE_ERASE="erase",t.USE_RDN="fill_rnd",t.USE_PEN="use_pen"}(o.GameEvent||(o.GameEvent={})),cc._RF.pop()},{}],GameModel:[function(t,e,o){"use strict";cc._RF.push(e,"f9ad31f2AJLNrsS2QTOivg5","GameModel");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var n,s=t("./FieldModel"),r=t("./NamesModel"),c=cc._decorator,a=c.ccclass;c.property;(function(t){t[t.LOCKED=0]="LOCKED",t[t.IDLE=1]="IDLE",t[t.FILLING=2]="FILLING",t[t.READY=3]="READY",t[t.CHECKING=4]="CHECKING",t[t.RESULT=5]="RESULT"})(n=o.GameState||(o.GameState={}));var l=function(){function t(){this.state=n.IDLE,this._lastState=n.LOCKED,this.stickersData=[!0,!1,!0,!0,!1,!0,!1,!0,!1,!0,!1,!1],this.fieldData=new s.default,this.namesData=new r.default}return Object.defineProperty(t.prototype,"lastState",{get:function(){return this._lastState},enumerable:!0,configurable:!0}),t.prototype.erase=function(){switch(this.state){case n.LOCKED:case n.IDLE:break;case n.FILLING:if(this.fieldData.isEmpty&&this.namesData.isEmpty)return void this.setState(n.IDLE);this.fieldData.isEmpty?this.namesData.isEmpty||this.namesData.clear():this.fieldData.clear();break;case n.READY:this.fieldData.clear(),this.setState(n.FILLING);break;case n.CHECKING:this.setState(n.READY);break;case n.RESULT:this.fieldData.clear(),this.namesData.clear(),this.setState(n.IDLE)}},t.prototype.rndFill=function(){switch(this.state){case n.LOCKED:case n.IDLE:case n.CHECKING:case n.RESULT:break;case n.FILLING:this.fieldData.rndFillEmpties(),this.namesData.fillEmptiesByDefault(),this.setState(n.READY);break;case n.READY:this.fieldData.rndRefillAll()}},t.prototype.usePen=function(){switch(this.state){case n.LOCKED:case n.CHECKING:break;case n.IDLE:this.setState(n.FILLING);break;case n.FILLING:this.fieldData.isFilled||this.setState(n.FILLING),this.namesData.isFilled||this.setState(n.FILLING);break;case n.READY:this.fieldData.findCrossing(),this.setState(n.CHECKING);break;case n.RESULT:this.fieldData.clear(),this.setState(n.FILLING)}},t.prototype.fillCell=function(t,e){this.fieldData.fillCell(t,e),this.fieldData.isFilled&&this.namesData.isFilled&&this.setState(n.READY)},t.prototype.onCheckingCompleted=function(){this.setState(n.RESULT)},t.prototype.setGuyName=function(t,e){this.namesData.setGuyName(t,e),this.fieldData.isFilled&&this.namesData.isFilled?this.setState(n.READY):this.state==n.READY&&this.setState(n.FILLING)},Object.defineProperty(t.prototype,"hasStateChanged",{get:function(){return this._lastState!=this.state},enumerable:!0,configurable:!0}),t.prototype.setState=function(t){this._lastState=this.state,this.state=t},t.ROWS=7,t.COLUMNS=12,t=i([a],t)}();o.default=l,cc._RF.pop()},{"./FieldModel":"FieldModel","./NamesModel":"NamesModel"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"c5eecn/PKxJd7QC7yJ2XUuQ","Game");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./FieldFilling"),r=t("./GameModel"),c=t("./buttons/RndButton"),a=t("./buttons/PencilButton"),l=t("./buttons/EraserButton"),p=t("./GuysFilling"),u=t("./GameEvent"),h=cc._decorator,d=h.ccclass,f=h.property,y=h.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fieldNode=null,e.guysNode=null,e.rules=null,e.buttonsNode=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.model=new r.default,this.field=this.fieldNode.getComponent(s.default),this.guys=this.guysNode.getComponent(p.default),this.rndBtn=this.buttonsNode.children[0].getComponent(c.default),this.startBtn=this.buttonsNode.children[1].getComponent(a.default),this.eraseBtn=this.buttonsNode.children[2].getComponent(l.default),this.rndBtn.setEnable(!1),this.startBtn.setEnable(!0),this.eraseBtn.setEnable(!0),this.eraseBtn.node.on(u.GameEvent.USE_ERASE,function(){t.field.onErase(),t.guys.onErase()}),this.rndBtn.node.on(u.GameEvent.USE_RDN,function(){t.field.onRnd(),t.guys.onRnd()}),this.startBtn.node.on(u.GameEvent.USE_PEN,function(){t.model.usePen(),t.field.onPen(),t.guys.onPen()}),this.field.init(this.model),this.guys.init(this.model),this.rndBtn.init(this.model),this.eraseBtn.init(this.model),this.startBtn.init(this.model)},e.prototype.start=function(){},e.prototype.update=function(t){},n([f(cc.Node)],e.prototype,"fieldNode",void 0),n([f(cc.Node)],e.prototype,"guysNode",void 0),n([f(cc.Node)],e.prototype,"rules",void 0),n([f(cc.Node)],e.prototype,"buttonsNode",void 0),e=n([d,y("Game")],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./FieldFilling":"FieldFilling","./GameEvent":"GameEvent","./GameModel":"GameModel","./GuysFilling":"GuysFilling","./buttons/EraserButton":"EraserButton","./buttons/PencilButton":"PencilButton","./buttons/RndButton":"RndButton"}],GridManager:[function(t,e,o){"use strict";cc._RF.push(e,"7e535sTgVhDT4RngMobZ9WX","GridManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,a=s.menu,l=t("./Cell"),p=t("./GameModel"),u=t("./CalendarManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=null,e.calendarNode=null,e.resultPlate=null,e.stickerPrefab=null,e.cells=[],e.editingCell=null,e.resultStickers=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){var t=this;this.grid.children.forEach(function(e){var o=e.getComponent(l.default);o.action=function(e,o){t.model.state!=p.GameState.FILLING&&t.model.state!=p.GameState.READY||t.showCalendar(e,o)},t.cells.push(o)}),this.calendar=this.calendarNode.getComponent(u.default);var e=0;this.cells.forEach(function(o){var i=cc.instantiate(t.stickerPrefab);i.x=o.node.x,i.y=o.node.y;var n=e-Math.floor(e/p.default.COLUMNS)*p.default.COLUMNS;i.children[n].active=!0,i.active=!1,t.resultStickers.push(i),t.resultPlate.addChild(i),e++})},e.prototype.init=function(t,e){this.model=t,this._stickersManager=e},e.prototype.update=function(t){if(this.hasStateChanged){switch(this.model.state){case p.GameState.LOCKED:case p.GameState.IDLE:this.grid.active&&(this.grid.active=!1);break;case p.GameState.FILLING:this.grid.active||(this.grid.active=!0),this.model.lastState==p.GameState.IDLE&&(this.updateByModel(),this.resetCells());break;case p.GameState.READY:break;case p.GameState.CHECKING:this.lockForChecking(),this.showCheckingAnimation();break;case p.GameState.RESULT:this.showResult()}this._state=this.model.state,this._lastState=this.model.lastState}},e.prototype.onErase=function(){this.updateByModel(),this.cancelEditingCell(),this.node.stopAllActions(),this.resetCells(),this.resetResultStickers()},e.prototype.onRnd=function(){this.updateByModel()},e.prototype.onPen=function(){if(this.model.state==p.GameState.FILLING&&this.model.lastState==p.GameState.FILLING)for(var t=this.model.fieldData.getEmpties(),e=0;e<t.length;e++)this.cells[t[e]].showUnfilled();this.model.state==p.GameState.FILLING&&this.model.lastState==p.GameState.RESULT&&(this.updateByModel(),this.resetCells(),this.node.stopAllActions(),this.resetResultStickers())},e.prototype.resetResultStickers=function(){this.resultStickers.forEach(function(t){t.stopAllActions(),t.active=!1})},e.prototype.showResult=function(){for(var t=this.model.fieldData.coincideTable,e=0;e<t.length;e++)t[e]?this.showResultSticker(e):this.cells[e].hideForResult()},e.prototype.showResultSticker=function(t){var e=this.resultStickers[t];cc.tween(e).to(.2,{scaleX:1.2,scaleY:1.2}).to(.2,{scaleX:.8,scaleY:.8}).to(.2,{scaleX:1.2,scaleY:1.2}).to(.2,{scaleX:.8,scaleY:.8}).start()},e.prototype.showCheckingSticker=function(t){var e=this,o=this.resultStickers[t];o.active=!0,o.opacity=0,o.scale=1.3,cc.tween(o).delay(.15).to(.15,{opacity:255,scaleX:.8,scaleY:.8}).call(function(){e.cells[t].hideWithIntersectionForResult()}).start()},e.prototype.resetCells=function(){this.cells.forEach(function(t){t.reset()})},e.prototype.lockForChecking=function(){this.cancelEditingCell()},e.prototype.showCheckingAnimation=function(){for(var t=this,e=cc.tween(this.node),i=function(i){var s=0;for(e.call(function(){t._stickersManager.showDescriptionByIndex(i)});s<3;){for(var r=function(r){var c=r*p.default.COLUMNS+i;r>0?p.default.COLUMNS:s>0?(p.default.ROWS,p.default.COLUMNS):(p.default.ROWS,p.default.COLUMNS),e.delay(o.CHECKING_TIME[s]),2==s?n.model.fieldData.coincideTable[c]&&e.call(function(){t.cells[c].showIntersection(t.model.stickersData[i])}).delay(o.INTERSECTION_TIME).call(function(){t.showCheckingSticker(c)}):e.call(function(){t.cells[c].showChecking()})},c=0;c<p.default.ROWS;c++)r(c);s++}},n=this,s=0;s<p.default.COLUMNS;s++)i(s);e.delay(1).call(function(){t._stickersManager.hideDescription(),t.model.onCheckingCompleted()}),e.start()},e.prototype.showCalendar=function(t,e){var o=this;this.editingCell&&this.editingCell.hideSelected(),this.editingCell=t,t.showSelected(),this.calendar.showOnCell(t,e,function(t,e){t.hideSelected(),e>0&&(o.model.fillCell(o.cells.indexOf(t),e),t.setNumber(e))})},e.prototype.cancelEditingCell=function(){this.editingCell&&(this.editingCell.hideSelected(),this.calendar.hide())},e.prototype.updateByModel=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].setNumber(this.model.fieldData.getCell(t))},Object.defineProperty(e.prototype,"hasStateChanged",{get:function(){return this.model&&(this._state!=this.model.state||this._lastState!=this.model.lastState)},enumerable:!0,configurable:!0}),e.CHECKING_TIME=[.08,.08],e.INTERSECTION_TIME=1.2,n([c(cc.Node)],e.prototype,"grid",void 0),n([c(cc.Node)],e.prototype,"calendarNode",void 0),n([c(cc.Node)],e.prototype,"resultPlate",void 0),n([c(cc.Prefab)],e.prototype,"stickerPrefab",void 0),e=o=n([r,a("GridManager")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./CalendarManager":"CalendarManager","./Cell":"Cell","./GameModel":"GameModel"}],GuysFilling:[function(t,e,o){"use strict";cc._RF.push(e,"76634+JDW1NAbt9I0wSVkUK","GuysFilling");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Guy"),r=t("./GameModel"),c=cc._decorator,a=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.header=null,e.guysNode=null,e.guys=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.reset(),this.header.active=!1,this.guysNode.children.forEach(function(e){t.guys.push(e.getComponent(s.default))})},e.prototype.init=function(t){this._model=t},e.prototype.update=function(t){if(this.hasStateChanged){switch(this._model.state){case r.GameState.LOCKED:break;case r.GameState.IDLE:this.reset();break;case r.GameState.FILLING:this._model.lastState==r.GameState.IDLE&&(this.reset(),this.updateByModel(),this.show()),this.guys.forEach(function(t){t.enableEditing(!0)});break;case r.GameState.READY:this.guys.forEach(function(t){t.enableEditing(!0)});break;case r.GameState.CHECKING:this.guys.forEach(function(t){t.enableEditing(!1)});break;case r.GameState.RESULT:}this._state=this._model.state,this._lastState=this._model.lastState}},e.prototype.show=function(){var t=this;this.header.active=!0,this.header.opacity=0,cc.tween(this.header).delay(1.5).to(1,{opacity:155}).start(),cc.tween(this.node).delay(1.5).call(function(){t.guysNode.active=!0,t.header.active=!0}).start()},e.prototype.reset=function(){this.header.stopAllActions(),this.header.active=!1,this.node.stopAllActions(),this.guysNode.active=!1},e.prototype.onErase=function(){this.updateByModel()},e.prototype.onRnd=function(){this.updateByModel()},e.prototype.onPen=function(){if(this._model.state==r.GameState.FILLING&&this._model.lastState==r.GameState.FILLING)for(var t=this._model.namesData.getEmpties(),e=0;e<t.length;e++)this.guys[t[e]].showUnfilled()},e.prototype.changeName=function(t,e){this._model.setGuyName(e,this.guys[e].getName())},e.prototype.updateByModel=function(){for(var t=0;t<this.guys.length;t++)this.guys[t].setName(this._model.namesData.getGuyName(t))},e.prototype.onDestroy=function(){this.node&&this.node.stopAllActions(),this.header&&(this.header.stopAllActions(),this.header.active=!1),this.node&&this.node.stopAllActions()},Object.defineProperty(e.prototype,"hasStateChanged",{get:function(){return this._model&&(this._state!=this._model.state||this._lastState!=this._model.lastState)},enumerable:!0,configurable:!0}),n([l(cc.Node)],e.prototype,"header",void 0),n([l(cc.Node)],e.prototype,"guysNode",void 0),e=n([a,p("GuysFilling")],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./GameModel":"GameModel","./Guy":"Guy"}],Guy:[function(t,e,o){"use strict";cc._RF.push(e,"ae46eglxvJDCLkw3IES6VDT","Guy");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,a=s.menu,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.mark=null,e.editBox=null,e.startName="",e}return i(e,t),e.prototype.onLoad=function(){this.mark.active=!1},e.prototype.getName=function(){return this.editBox.string},e.prototype.setName=function(t){this.editBox.string=t},e.prototype.showUnfilled=function(){this.mark.active=!0,this.mark.opacity=0,cc.tween(this.mark).to(.2,{opacity:155}).to(.2,{opacity:0}).to(.2,{opacity:155}).to(.2,{opacity:0}).start()},e.prototype.enableEditing=function(t){this.editBox&&(this.editBox.node.active=t,this.label.node.active=!0)},e.prototype.reset=function(){this.node.stopAllActions(),this.label.node.stopAllActions(),this.mark.stopAllActions(),this.editBox.string=this.startName,this.mark.active=!1},e.prototype.onDestroy=function(){this.mark&&this.mark.stopAllActions(),this.label&&this.label.node.stopAllActions()},n([c(cc.Label)],e.prototype,"label",void 0),n([c(cc.Node)],e.prototype,"mark",void 0),n([c(cc.EditBox)],e.prototype,"editBox",void 0),e=n([r,a("Guy")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NamesModel:[function(t,e,o){"use strict";cc._RF.push(e,"a34cddwZqhI6L1vXI5w0Y7z","NamesModel");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameModel"),s=cc._decorator,r=s.ccclass,c=(s.property,function(){function t(){this._defaultNames=["\u0421\u0430\u0448\u0430","\u0416\u0435\u043d\u044f","\u0412\u0430\u043b\u044f","\u041f\u0430\u0448\u0430","\u0428\u0443\u0440\u0430","\u0412\u0430\u0441\u044f","\u0413\u0435\u0440\u0430"],this._isEmpty=!0,this._isFilled=!1,this._names=[],this.needToShowEmptyNames=!1,this.clear()}return t.prototype.clear=function(){this._names=["","","","","","",""],this._isEmpty=!0,this._isFilled=!1},t.prototype.getEmpties=function(){for(var t=[],e=0;e<this._names.length;e++)""==this._names[e]&&t.push(e);return t},t.prototype.fillEmptiesByDefault=function(){for(var t=0;t<n.default.ROWS;t++)(this._names.length<=t||""==this._names[t])&&(this._names[t]=this._defaultNames[t]);this._isEmpty=!1,this._isFilled=!0},t.prototype.setGuyName=function(t,e){if(!(t>=0&&t<n.default.ROWS))throw new Error("set guy name with incorrect index = "+t.toString());this._names[t]=e,this.updateState()},t.prototype.clearGuyName=function(t){if(!(t>=0&&t<n.default.ROWS))throw new Error("set guy name with incorrect index = "+t.toString());this._names[t]="",this.updateState()},t.prototype.updateState=function(){this._isFilled=!0,this._isEmpty=!0;for(var t=0;t<n.default.ROWS;t++)""==this._names[t]?this._isFilled=!1:this._isEmpty=!1},Object.defineProperty(t.prototype,"hasEmpties",{get:function(){return!this._isFilled&&!this._isEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._isEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFilled",{get:function(){return this._isFilled},enumerable:!0,configurable:!0}),t.prototype.getGuyName=function(t){if(t>=0&&t<n.default.ROWS)return this._names[t];throw new Error("try to get guy using incorrect index = "+t.toString())},t=i([r],t)}());o.default=c,cc._RF.pop()},{"./GameModel":"GameModel"}],PencilButton:[function(t,e,o){"use strict";cc._RF.push(e,"6798bwM3hdDxrVylKKeuQ9L","PencilButton");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../ui/Button"),r=t("../GameModel"),c=t("../GameEvent"),a=cc._decorator,l=a.ccclass,p=a.property,u=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this.setEnable(!1),this.label.string="\u043d\u0430\u0447\u0430\u0442\u044c",this.action=function(){e.node.dispatchEvent(new cc.Event(c.GameEvent.USE_PEN,!0))}},e.prototype.init=function(t){this.model=t},e.prototype.update=function(t){if(this.model)switch(this.model.state){case r.GameState.LOCKED:case r.GameState.CHECKING:this.isEnabled&&this.setEnable(!1),this.label.node.active&&(this.label.node.active=!1);break;case r.GameState.IDLE:this.isEnabled||this.setEnable(!0),this.label.node.active||(this.label.node.active=!0,this.label.string="\u043d\u0430\u0447\u0430\u0442\u044c");break;case r.GameState.FILLING:case r.GameState.RESULT:this.isEnabled||this.setEnable(!0),this.label.node.active&&(this.label.node.active=!1);break;case r.GameState.READY:this.isEnabled||this.setEnable(!0),this.label.node.active||(this.label.node.active=!0,this.label.string="\u0433\u0430\u0434\u0430\u0442\u044c")}},n([p(cc.Label)],e.prototype,"label",void 0),e=n([l,u("buttons/PencilButton")],e)}(s.default);o.default=h,cc._RF.pop()},{"../GameEvent":"GameEvent","../GameModel":"GameModel","../ui/Button":"Button"}],RndButton:[function(t,e,o){"use strict";cc._RF.push(e,"f1f910CmplAQ416ebm+8nxq","RndButton");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../ui/Button"),r=t("../GameModel"),c=t("../GameEvent"),a=cc._decorator,l=a.ccclass,p=(a.property,a.menu),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this.setEnable(!1),this.action=function(){e.model.rndFill(),e.node.dispatchEvent(new cc.Event(c.GameEvent.USE_RDN,!0))}},e.prototype.init=function(t){this.model=t},e.prototype.update=function(t){if(this.model)switch(this.model.state){case r.GameState.LOCKED:case r.GameState.IDLE:case r.GameState.CHECKING:case r.GameState.RESULT:this.isEnabled&&this.setEnable(!1);break;case r.GameState.FILLING:case r.GameState.READY:this.isEnabled||this.setEnable(!0)}},e=n([l,p("buttons/RndButton")],e)}(s.default);o.default=u,cc._RF.pop()},{"../GameEvent":"GameEvent","../GameModel":"GameModel","../ui/Button":"Button"}],StickersManager:[function(t,e,o){"use strict";cc._RF.push(e,"05be3C1ItVKdIL9wOjQaOEF","StickersManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Sticker"),r=cc._decorator,c=r.ccclass,a=r.property,l=r.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startTime=0,e.appeartime=0,e.description=null,e.stickersPlate=null,e.stickers=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.stickersPlate.children.forEach(function(e){var o=e.getComponent(s.default);t.stickers.push(o),o.action=function(e){t.showDescription(e)}}),this.stickersPlate.active=!1},e.prototype.showDescriptionByIndex=function(t){var e=this.stickers[t];this.prepareStickerDescription(e),cc.tween(this.description.node).to(.2,{opacity:255}).start()},e.prototype.showDescription=function(t){var e=this;this.prepareStickerDescription(t),cc.tween(this.description.node).to(.2,{opacity:255}).delay(1.5).to(.2,{opacity:0}).call(function(){e.description.node.active=!1}).start()},e.prototype.prepareStickerDescription=function(t){this.hideDescription(),this.description.node.x=t.node.x,this.description.string=t.description},e.prototype.hideDescription=function(){this.description.node.stopAllActions(),this.description.node.opacity=0,this.description.node.active=!0},e.prototype.show=function(){var t=this;this.stickersPlate.active=!0;var e=this.startTime;this.stickers.forEach(function(o){e+=t.appeartime,cc.tween(o.node).delay(e).call(function(){o.show()}).start()})},e.prototype.hideForResult=function(){var t=this;cc.tween(this.node).delay(1).to(.3,{opacity:0}).call(function(){t.reset()}).start()},e.prototype.reset=function(){this.node.opacity=255,this.stickers.forEach(function(t){t.node.stopAllActions(),t.reset()}),this.description.node.stopAllActions(),this.description.node.active=!1,this.stickersPlate.active=!1},e.prototype.onDestroy=function(){this.stickers&&(this.reset(),this.stickers.length=0,this.stickers=null),this.description&&this.description.node.stopAllActions()},n([a],e.prototype,"startTime",void 0),n([a],e.prototype,"appeartime",void 0),n([a(cc.Label)],e.prototype,"description",void 0),n([a(cc.Node)],e.prototype,"stickersPlate",void 0),e=n([c,l("StickersManager")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Sticker":"Sticker"}],Sticker:[function(t,e,o){"use strict";cc._RF.push(e,"e59d9IXSj1ErpWR/eqIeiJJ","Sticker");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s,r=t("./ui/ClickableView");(function(t){t[t.NEUTRAL=0]="NEUTRAL",t[t.GOOD=1]="GOOD",t[t.BAD=2]="BAD"})(s=o.StickerValue||(o.StickerValue={}));var c=cc._decorator,a=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description="",e.meaning=s.NEUTRAL,e.action=function(t){},e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.reset()},e.prototype.onClick=function(){t.prototype.onClick.call(this),this.action&&this.action(this)},e.prototype.show=function(){this.target.opacity=0,this.target.scaleX=this.target.scaleY=1.5,this.target.active=!0,cc.tween(this.target).to(.15,{opacity:255,scaleX:1,scaleY:1}).start()},e.prototype.reset=function(){this.target.stopAllActions(),this.target.opacity=255,this.target.active=!1,this.target.scaleX=this.target.scaleY=1},e.prototype.update=function(t){},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.target&&this.target.stopAllActions()},n([l],e.prototype,"description",void 0),n([l],e.prototype,"meaning",void 0),e=n([a,p("Sticker")],e)}(r.default);o.default=u,cc._RF.pop()},{"./ui/ClickableView":"ClickableView"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"a5d53ElUexO66fZl1K07jy7","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["CalendarManager","CalendarNumbers","Cell","FieldFilling","FieldModel","Game","GameEvent","GameModel","GridManager","Guy","GuysFilling","NamesModel","Sticker","StickersManager","EraserButton","PencilButton","RndButton","Button","ClickableView","use_v2.1-2.2.1_cc.Toggle_event"]);